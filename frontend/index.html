<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Email Classifier - IA para Classificação de Emails</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <svg width="40" height="40" viewBox="0 0 40 40" fill="none">
                    <rect width="40" height="40" rx="8" fill="url(#gradient)"/>
                    <path d="M10 13L20 21L30 13M10 27V13C10 11.8954 10.8954 11 12 11H28C29.1046 11 30 11.8954 30 13V27C30 28.1046 29.1046 29 28 29H12C10.8954 29 10 28.1046 10 27Z" stroke="white" stroke-width="2" stroke-linecap="round"/>
                    <defs>
                        <linearGradient id="gradient" x1="0" y1="0" x2="40" y2="40">
                            <stop stop-color="#667eea"/>
                            <stop offset="1" stop-color="#764ba2"/>
                        </linearGradient>
                    </defs>
                </svg>
                <h1>Email Classifier</h1>
            </div>
            <p class="subtitle">Classificação inteligente com IA</p>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Input Section -->
            <section class="input-section">
                <div class="tabs">
                    <button class="tab active" data-tab="text">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M2 5C2 3.89543 2.89543 3 4 3H16C17.1046 3 18 3.89543 18 5V15C18 16.1046 17.1046 17 16 17H4C2.89543 17 2 16.1046 2 15V5ZM4 7V15H16V7L10 11L4 7ZM16 5H4L10 9L16 5Z"/>
                        </svg>
                        Escrever Email
                    </button>
                    <button class="tab" data-tab="file">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M6 2C5.44772 2 5 2.44772 5 3V17C5 17.5523 5.44772 18 6 18H14C14.5523 18 15 17.5523 15 17V7.41421C15 7.149 14.8946 6.89464 14.7071 6.70711L11.2929 3.29289C11.1054 3.10536 10.851 3 10.5858 3H6ZM10 4V7H13L10 4Z"/>
                        </svg>
                        Enviar Arquivo
                    </button>
                    <button class="tab" data-tab="history">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M10 18C5.58172 18 2 14.4183 2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10C18 14.4183 14.4183 18 10 18ZM9 5V11L13.2 13.4L14 12L10.5 10V5H9Z"/>
                        </svg>
                        Histórico
                    </button>
                </div>

                <!-- Text Input -->
                <div class="tab-content active" id="text-tab">
                    <div class="form-group">
                        <label for="emailText">Conteúdo do Email</label>
                        <textarea 
                            id="emailText" 
                            placeholder="Cole ou digite o conteúdo do email aqui...&#10;&#10;Exemplo:&#10;Olá, gostaria de agendar uma reunião para discutir uma parceria. Podemos marcar para a próxima semana?"
                            rows="10"
                        ></textarea>
                        <div class="char-count">
                            <span id="charCount">0</span> caracteres (mínimo: 10)
                        </div>
                    </div>
                    <button class="btn btn-primary" id="classifyTextBtn">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M10 3C6.13401 3 3 6.13401 3 10C3 13.866 6.13401 17 10 17C13.866 17 17 13.866 17 10C17 6.13401 13.866 3 10 3ZM13.7071 8.70711L9.70711 12.7071C9.31658 13.0976 8.68342 13.0976 8.29289 12.7071L6.29289 10.7071C5.90237 10.3166 5.90237 9.68342 6.29289 9.29289C6.68342 8.90237 7.31658 8.90237 7.70711 9.29289L9 10.5858L12.2929 7.29289C12.6834 6.90237 13.3166 6.90237 13.7071 7.29289C14.0976 7.68342 14.0976 8.31658 13.7071 8.70711Z"/>
                        </svg>
                        Classificar Email
                    </button>
                </div>

                <!-- File Upload -->
                <div class="tab-content" id="file-tab">
                    <div class="upload-area" id="uploadArea">
                        <svg width="48" height="48" viewBox="0 0 48 48" fill="none">
                            <path d="M24 14V34M24 14L18 20M24 14L30 20M14 34H34M8 40H40C41.1046 40 42 39.1046 42 38V10C42 8.89543 41.1046 8 40 8H8C6.89543 8 6 8.89543 6 10V38C6 39.1046 6.89543 40 8 40Z" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        <p class="upload-text">Arraste um arquivo ou clique para selecionar</p>
                        <p class="upload-hint">Formatos aceitos: .txt, .eml, .pdf (máx. 5MB)</p>
                        <input type="file" id="fileInput" accept=".txt,.eml,.pdf" hidden>
                    </div>
                    <div class="selected-file" id="selectedFile"></div>
                    <button class="btn btn-primary" id="classifyFileBtn" disabled>
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M10 3C6.13401 3 3 6.13401 3 10C3 13.866 6.13401 17 10 17C13.866 17 17 13.866 17 10C17 6.13401 13.866 3 10 3ZM13.7071 8.70711L9.70711 12.7071C9.31658 13.0976 8.68342 13.0976 8.29289 12.7071L6.29289 10.7071C5.90237 10.3166 5.90237 9.68342 6.29289 9.29289C6.68342 8.90237 7.31658 8.90237 7.70711 9.29289L9 10.5858L12.2929 7.29289C12.6834 6.90237 13.3166 6.90237 13.7071 7.29289C14.0976 7.68342 14.0976 8.31658 13.7071 8.70711Z"/>
                        </svg>
                        Classificar Arquivo
                    </button>
                </div>

                <!-- History Tab -->
                <div class="tab-content" id="history-tab">
                    <div class="history-header">
                        <h3>Histórico de Classificações</h3>
                        <button class="btn-clear-history" id="clearHistoryBtn">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                                <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>
                                <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
                            </svg>
                            Limpar Histórico
                        </button>
                    </div>
                    <div class="history-list" id="historyList">
                        <div class="empty-history">
                            <svg width="64" height="64" viewBox="0 0 64 64" fill="none">
                                <path d="M32 56C45.2548 56 56 45.2548 56 32C56 18.7452 45.2548 8 32 8C18.7452 8 8 18.7452 8 32C8 45.2548 18.7452 56 32 56Z" stroke="currentColor" stroke-width="3" stroke-linecap="round"/>
                                <path d="M30 20V34L40 42" stroke="currentColor" stroke-width="3" stroke-linecap="round"/>
                            </svg>
                            <p>Nenhuma classificação ainda</p>
                            <p class="empty-hint">Classifique emails para ver o histórico aqui</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Loading Spinner -->
            <div class="loading" id="loading">
                <div class="spinner"></div>
                <p>Analisando email com IA...</p>
            </div>

            <!-- Result Section -->
            <section class="result-section" id="resultSection">
                <div class="result-card">
                    <div class="result-header">
                        <h2>Resultado da Classificação</h2>
                        <span class="badge" id="classificationBadge"></span>
                    </div>
                    
                    <div class="confidence-bar">
                        <div class="confidence-label">
                            <span>Confiança</span>
                            <span id="confidenceValue">0%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill"></div>
                        </div>
                    </div>

                    <div class="reasoning">
                        <h3>Análise</h3>
                        <p id="reasoningText"></p>
                    </div>

                    <!-- Suggestions -->
                    <div class="suggestions" id="suggestionsContainer"></div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-links">
                <a href="https://github.com/Brunotlps/email-classifier" target="_blank" rel="noopener noreferrer" class="footer-btn">
                    <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                    </svg>
                    GitHub
                </a>
                
                <a href="https://email-classifier-production-947c.up.railway.app/docs" target="_blank" rel="noopener noreferrer" class="footer-btn">
                    <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"/>
                        <path d="M14 2v6h6M16 13H8M16 17H8M10 9H8"/>
                    </svg>
                    API Docs
                </a>
            </div>
            
            <p>Desenvolvido por <a href="https://github.com/Brunotlps" target="_blank" rel="noopener noreferrer">Bruno Teixeira</a></p>
            <p class="tech-stack">FastAPI • OpenAI • Docker • Railway • Vercel</p>
        </footer>
    </div>

    <script src="js/app.js"></script>
</body>
</html>